---
title: 프로그래밍 원리 - 컴파일러의 등장
date: 2018-05-13
tags:
  - programming
  - compiler
category: programming
---
## 프로그래밍 원리
프로그래머로 일하면서 자주 궁금해지고 뭔가 찜찜한 그런 부분이 "내가 만든 프로그램이 실제 PC에서 어떻게 동작 하는 걸까?" 라는 부분이었다. 요즘엔 대부분 OS위에서 동작하는 프로그래밍을 하기 때문에 중요하지 않은 부분일 수 있지만 내가 생각하기엔 OS와 하드웨어에서 어떻게 내가 만든 프로그램이 동작하는지 알아야 좋은 프로그램을 만들 수 있다고 생각한다. 그래서 조금씩 프로그래밍 원리를 공부할 생각이다.

### 어셈블러
우리가 잘 알고 있는 CPU는 순차 논리회로 중 하나이다. 순차 논리회로란 출력이 입력과 내부의 메모리에 저장된 상태값에 의해서 결정되는 회로이다. 즉 CPU는 마우스나 키보드에서 보내는 입력값과 메모리에서 보내는 입력값, 내부 레지스터의 상태값에 따라 출력을 결정하도록 하는 순차 놀리 회로라고 할 수있다. 여기서 메모리에서 보내는 입력값을 인스트럭션이라고 부른다.
![GitHub Logo](/assets/images/cpu.jpg)
이처럼 우리가 만든 프로그램은 인스트럭션과 그에 해당하는 오퍼랜드로 바뀌어 메모리에 쌓이고 그 입력값을 순차적으로 CPU로 보내 프로그램이 동작하게 하는 것이다.

인스트럭션은 암호같은 0과 1릐 조합으로 이루어진 숫자이다. 그래서 눈으로 보면 사람이 알아보기 너무 힘들기 때문에 사람이 이해하기 쉬운 말로 번역한 것이 어셈블리 언어이다. 어셈블리 언어를 0과 1로 이루어진 인스트럭션으로 1:1로 맵핑해 주는 프로그램이 어셈블러(Assembler) 이다.

### 고급 언어
어셈블리어는 CPU의 인스트럭션을 사람이 볼 수 있는 단어로 바꾼 것이기 때문에 CPU에 종속적일 수밖에 없다. 즉 CPU가 바뀌면 코드가 변경되어야 하는 큰 단점이 있다.
그래서 이러한 단점을 보완하기 위해 나온 것이 고급 언어이다. CPU에 종속적이지 않고 사람이 더 이해하기 쉽게 프로그램을 기술할 수있게 만들어주는 것이 고급 언어다.
이러한 고급 언어는 어셈블리어처럼 단순히 1:1로 변환을 해 주는 것이 아니라, 문장을 파악해 그 의미에 맞게 인스트럭션을 매칭해 줘야 한다. 이런 역할을 하는 것이 컴파일러이다.

우리는 이제 고급 언어인 C언어를 이용해 프로그램을 작성하고 이 코드를 타겟 CPU에 맞는 컴파일러로 컴파일하면 하나의 코드로 여러 CPU에서 동작 가능한 프로그램을 만들 수 있게된다. 컴파일러는 CPU의 인스트럭션을 잘 알고 있어야 하므로 CPU 마다 컴파일러가 다르다.

크로스컴파일이란 개발 환경과 실행 환경이 다른 경우를 말한다. 즉, 안드로이드용 프로그램을 윈도우에서 코드를 작성하고 안드로이드용 컴파일러로 컴파일해 안드로이드폰에 올려서 실행하는 환경을 말한다. 모바일 같은 실행 환경에서 개발하기 힘든 경우 크로스컴파일을 이용한다.

## Reference
뇌를 자극하는 프로그래밍 원리 - Ch.10
